# 做计划 APP 运营后台 PRD v1.0

## 📌 文档信息

| 项目 | 内容 |
|------|------|
| **产品名称** | 做计划 APP 运营后台 |
| **文档版本** | v1.0（精简版/仅核心功能） |
| **编写日期** | 2026-01-27 |
| **依据材料** | 《PRD_做计划APP_v2.0.md》（C 端需求） |
| **定位** | 面向运营人员的后台管理系统，支持用户管理、订单管理、基础数据统计 |
| **约束** | 不扩散 C 端没有的功能；仅保留最小必要功能 |

---

## 📚 目录

1. [产品概述](#1-产品概述)
2. [功能模块](#2-功能模块)
   - 2.1 [用户管理（核心）](#21-用户管理核心)
   - 2.2 [订单管理（核心）](#22-订单管理核心)
   - 2.3 [数据统计（基础）](#23-数据统计基础)
   - 2.4 [系统配置（最小必要）](#24-系统配置最小必要)
3. [权限与登录](#3-权限与登录)
4. [附录](#4-附录)

---

## 1. 产品概述

### 1.1 定位

做计划 APP 运营后台是一个**精简版管理系统**，核心解决：
1. **用户管理**：查看用户列表、用户详情
2. **订单管理**：查看订单、手动退款
3. **基础数据统计**：用户/会员/打卡概览
4. **系统配置**：头像库、专注类型等

### 1.2 核心场景

#### 场景 1：监控用户活跃度
运营人员查看"用户概览"，了解当前活跃用户数，评估产品健康度。

#### 场景 2：订单异常处理
运营人员查看"订单列表"，处理掉单、退款等异常订单。

#### 场景 3：用户数据查询
运营人员查看用户详情，了解用户使用情况。

---

## 2. 功能模块

## 2.1 用户管理（核心）

### 2.1.1 用户列表

#### 页面结构

| 区域 | 内容 | 说明 |
|------|------|------|
| 顶部筛选 | 账号状态、会员状态、注册时间、最后活跃时间 | 见下方筛选条件 |
| 顶部操作 | 导出 Excel | 导出当前筛选结果（最多 10000 条） |
| 表格 | 用户列表 | 见下方字段 |
| 底部 | 分页器 | 每页 20 条，最多展示 500 页 |

#### 筛选条件

| 筛选项 | 选项 | 默认值 |
|--------|------|--------|
| **会员状态** | 全部/未激活/免费期/会员有效/已到期 | 全部 |
| **注册时间** | 日期范围选择器 | 最近 30 天 |
| **最后活跃时间** | 日期范围选择器 | - |
| **搜索** | 用户 ID / 昵称 / 邮箱 | - |

#### 表格字段

| 字段 | 说明 | 排序 |
|------|------|------|
| 用户 ID | 系统唯一 ID | ✓ |
| 邮箱 | 用户邮箱 | - |
| 昵称 | 用户设置的昵称 | - |
| 头像 | 缩略图 | - |
| 注册时间 | 首次登录时间 | ✓ |
| 最后活跃时间 | 最近一次打开 APP 时间 | ✓ |
| 会员状态 | 未激活/免费期/会员有效/已到期 | - |
| 会员到期时间 | expireAt | ✓ |
| 连续打卡天数 | 当前连续天数 | ✓ |
| 最后打卡时间 | 最近一次打卡日期 | ✓ |
| 任务总数 | 创建的任务总数（含已删除） | ✓ |
| 完成任务数 | 已完成任务数 | ✓ |
| 专注总时长 | 累计专注时长（小时） | ✓ |
| 操作 | 查看详情 | - |

#### 操作说明

**1. 查看详情**
- 点击后进入"用户详情页"（见 2.1.2）

**2. 导出 Excel**
- 导出当前筛选结果（最多 10000 条）
- 包含所有表格字段

### 2.1.2 用户详情

#### 页面结构

| 区域 | 内容 |
|------|------|
| 基本信息 | 用户 ID、邮箱、昵称、头像、注册时间、最后活跃时间、IP 属地 |
| 打卡统计 | 连续打卡天数、最后打卡时间 |
| 会员信息 | 会员状态、免费期起算时间、会员到期时间、购买记录（订单列表） |
| 使用数据 | 任务总数、完成任务数、完成率、专注总时长、专注会话数 |
| 设备列表 | 设备名称、登录 IP、最近登录时间、状态（在线/已退出） |
| 操作记录（可选） | 最近 20 条操作日志（创建任务/打卡/购买会员等） |
| 操作按钮 | 查看订单 |

---

## 2.2 订单管理（核心）

### 2.2.1 订单列表

#### 页面结构

| 区域 | 内容 | 说明 |
|------|------|------|
| 顶部筛选 | 订单状态、支付方式、下单时间 | 见下方筛选条件 |
| 顶部操作 | 导出 Excel | 导出当前筛选结果（最多 10000 条） |
| 表格 | 订单列表 | 见下方字段 |
| 底部 | 分页器 | 每页 20 条 |

#### 筛选条件

| 筛选项 | 选项 | 默认值 |
|--------|------|--------|
| **订单状态** | 全部/待支付/支付成功/支付失败/已退款 | 全部 |
| **支付方式** | 全部/微信支付/支付宝（预留） | 全部 |
| **下单时间** | 日期范围选择器 | 最近 30 天 |
| **搜索** | 订单号 / 用户 ID / 昵称 | - |


#### 表格字段

| 字段 | 说明 | 排序 |
|------|------|------|
| 订单号 | 系统生成 | - |
| 用户 ID | 关联用户 | - |
| 昵称 | 用户昵称 | - |
| 商品名称 | 月会员/季会员/年会员 | - |
| 订单金额 | 实付金额（元） | ✓ |
| 下单时间 | 创建时间 | ✓ |
| 支付时间 | 支付成功时间 | ✓ |
| 支付方式 | 微信支付/支付宝 | - |
| 订单状态 | 待支付/支付成功/支付失败/已退款 | - |
| 退款时间 | 退款成功时间 | ✓ |
| 退款金额 | 退款金额（元） | ✓ |
| 操作 | 查看详情 / 手动退款 | - |

#### 操作说明

**1. 查看详情**
- 点击后进入"订单详情页"（见 2.2.2）

**2. 手动退款**
- **触发条件**：订单状态 = 支付成功
- **操作**：
  1. 弹窗确认退款金额（默认=订单金额）
  2. 填写退款原因（必填）
  3. 点击"确认退款"
- **退款后**：
  - 订单状态 → 已退款
  - 用户会员状态 → 已到期
  - 生成退款记录
- **支持的退款方式**：原路退回（微信/支付宝）

**4. 导出 Excel**
- 导出当前筛选结果（最多 10000 条）
- 包含所有表格字段 + 微信订单号 + 退款流水号

### 2.2.2 订单详情

#### 页面结构

| 区域 | 内容 |
|------|------|
| 订单信息 | 订单号、用户信息、商品名称、订单金额、下单时间、支付时间 |
| 支付信息 | 支付方式、微信订单号、支付流水号 |
| 退款信息（如有） | 退款金额、退款原因、退款时间、退款流水号 |
| 操作日志 | 创建订单 → 支付成功 → 退款申请 → 退款成功（时间轴展示） |
| 操作按钮 | 手动退款（若未退款） |

---

## 2.3 数据统计（基础）

### 2.3.1 概览页（Dashboard）

#### 页面结构

**顶部时间筛选**：今天/最近 7 天/最近 30 天/自定义日期范围

#### 数据指标卡片

**1. 用户概览**

| 指标 | 计算规则 | 对比昨日/上周 |
|------|----------|--------------|
| 总用户数 | 累计注册用户数 | - |
| 活跃用户数 | 选定时间范围内至少打开 1 次 APP 的用户数 | ✓ |
| 新增用户数 | 选定时间范围内新注册用户数 | ✓ |

**2. 会员概览**

| 指标 | 计算规则 | 对比昨日/上周 |
|------|----------|--------------|
| 当前会员数 | 会员状态=会员有效的用户数 | ✓ |
| 会员转化率 | 会员数 / 总用户数 × 100% | ✓ |
| 总收入 | 选定时间范围内支付成功订单金额总和 | ✓ |
| 退款金额 | 选定时间范围内退款金额总和 | ✓ |
| 新增订单数 | 选定时间范围内新增订单数 | ✓ |

**3. 打卡概览**

| 指标 | 计算规则 | 对比昨日/上周 |
|------|----------|--------------|
| 打卡用户数 | 选定时间范围内至少打卡 1 次的用户数 | ✓ |
| 打卡率 | 打卡用户数 / 活跃用户数 × 100% | ✓ |
| 平均连续天数 | 所有正常用户的连续打卡天数平均值 | ✓ |
| 连续 7+ 天用户数 | 连续打卡天数 ≥ 7 的用户数 | ✓ |
| 连续 30+ 天用户数 | 连续打卡天数 ≥ 30 的用户数 | ✓ |

**4. 任务与专注概览**

| 指标 | 计算规则 | 对比昨日/上周 |
|------|----------|--------------|
| 创建任务数 | 选定时间范围内创建的任务总数 | ✓ |
| 完成任务数 | 选定时间范围内完成的任务总数 | ✓ |
| 任务完成率 | 完成任务数 / 创建任务数 × 100% | ✓ |
| 专注会话数 | 选定时间范围内完成的专注会话数（计入+不计入） | ✓ |
| 专注总时长 | 选定时间范围内计入的专注总时长（小时） | ✓ |

#### 图表（可选/简化）

- **用户趋势图**：折线图展示"新增用户数/活跃用户数"（最近 30 天）
- **打卡趋势图**：折线图展示"打卡用户数/打卡率"（最近 30 天）

---

## 2.4 系统配置（最小必要）

### 2.4.1 头像库管理

#### 功能
- **头像列表**：展示所有系统提供的头像（10-20 张）
- **新增头像**：上传图片（尺寸：200x200，格式：PNG/JPG，大小 < 500KB）
- **删除头像**：删除未被使用的头像（若有用户使用则不可删除）
- **预览**：点击查看大图

### 2.4.2 专注类型管理

#### 功能
- **类型列表**：工作/学习/阅读/编程/运动/冥想/其它
- **新增类型**：添加新类型（1-10 字符）
- **编辑类型**：修改类型名称
- **删除类型**：删除未被使用的类型（若有会话使用则不可删除）
- **排序**：拖拽调整展示顺序

### 2.4.3 违规词库（可选）

#### 功能
- **违规词列表**：昵称审核的违规词库
- **新增违规词**：批量导入（逗号分隔）
- **删除违规词**：单个删除

---

## 3. 权限与登录

### 3.1 登录

- **登录方式**：账号密码登录（管理员账号由超级管理员创建）
- **账号格式**：邮箱 / 手机号
- **密码规则**：8-20 位，包含字母+数字

### 3.2 权限（简化版）

**本版本仅支持单一角色**：管理员（全部权限）

**预留扩展**：如需多角色，可扩展为：
- **超级管理员**：全部权限 + 创建管理员账号
- **运营人员**：用户管理 + 订单管理 + 数据统计
- **客服人员**（预留）：用户管理（只读） + 订单查看（只读）

---

## 4. 附录

### 4.1 技术要求（建议）

| 技术点 | 建议方案 |
|--------|----------|
| **前端框架** | Vue 3 + Element Plus / React + Ant Design |
| **后端框架** | Spring Boot / Node.js + Express |
| **数据库** | MySQL（与 C 端共用） |
| **部署** | 独立域名（如 admin.xxx.com），HTTPS |
| **权限验证** | JWT Token |
| **日志** | 记录所有敏感操作（标记退款/手动退款/配置修改） |

### 4.2 数据安全

- **操作日志**：记录所有敏感操作（谁、何时、做了什么）
- **退款审批**（可选）：手动退款需二次确认
- **导出限制**：单次导出最多 10000 条；记录导出日志
- **敏感数据脱敏**：用户邮箱部分隐藏（仅超级管理员可见完整）

### 4.3 与 C 端对接

#### 数据同步
- **实时同步**：用户信息/订单/会员状态/打卡数据由 C 端写入数据库，后台实时查询
- **不做数据修改**：后台**不允许直接修改用户数据**（如修改会员状态），仅可查看与导出
- **退款操作**：后台调用支付平台退款接口，退款成功后回调 C 端更新会员状态

#### 接口依赖
- **查询接口**：后台调用 C 端提供的查询接口（用户列表/订单列表/统计数据）
- **退款接口**：后台调用支付平台接口（微信退款 API）
- **配置接口**：后台修改配置后，C 端通过接口同步（头像库/专注类型/推送时间）

---

## 📝 变更记录

| 版本 | 日期 | 变更内容 | 修订人 |
|------|------|----------|--------|
| v1.0 | 2026-01-27 | 初稿（精简版/仅核心功能） | AI 产品助理 |

---

## 🎯 后续扩展（非本版本范围）

如业务发展需要，可考虑扩展：
1. **内容审核**：任务标题/昵称的人工审核工作台
2. **营销工具**：优惠券/活动配置
3. **消息推送**：自定义推送模板与发送
4. **客服系统**：用户反馈/工单管理
5. **权限管理**：多角色权限配置
6. **数据看板**：更丰富的图表与自定义报表

**文档结束**
